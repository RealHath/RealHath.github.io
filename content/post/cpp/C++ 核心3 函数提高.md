---
title: C++ 核心3 函数提高
tags: ["C++", "编程学习"]
categories: ["C++"]
date: "2020-11-15 20:35:55"
toc: true
---


# 1 函数提高
## 1.1 函数默认参数
注意
- 如果某个位置已经有默认参数，在这个位置往后都要有默认值
```cpp
int fun(int a, int b = 1, int c = 2);

fun(10);    //调用的时候能少传参数
```

- 如果函数声明有默认参数，函数实现就不能有默认参数

声明和实现只能有一个带默认参数
```cpp
int fun(int a = 10, int b = 10);    //声明

int fun(int a = 10, int b = 10)     //实现，会报错
{
    
}

```

## 1.2 函数占位参数
语法：
```cpp
void fun(int a, int);
```

占位参数可以有默认参数
```cpp
void fun (int a, int = 10);
```

## 1.3 函数重载
### 1.3.1 函数重载描述
作用：函数名可以相同，提高复用性

函数重载满足条件
- 同一个作用域下
- 函数名相同
- 函数参数类型不同，或者个数不同，或者顺序不同

### 1.3.2 函数重载注意事项
- 引用作为重载条件
```cpp
void fun(int& a);
void fun(const int& a);

int a = 10;
fun(a);     //传入变量，调用第一个fun
fun(10);    //传入值，调用第二个fun
```

- 函数重载碰到函数默认参数
```cpp
void fun(int a, int b = 10);
void fun(int a);

fun(10);        //无法确定调用的是哪个
```

## 1.4 inline内联函数
不加inline关键字，当调用函数时，被调用的函数会不断入栈出栈，需要一定开销

加inline关键字，相当于将被调用的函数展开，没有出入栈的开销，但是相当于将函数实现过程写很多次，加大内存。

使用内联特性，要在声明和定义前加关键词{{< highlight >}}inline{{< /highlight >}}

inline 只适合涵数体内代码简单的涵数使用，不能包含复杂的结构控制语句例如 while、switch，并且不能内联函数本身不能是直接递归函数（即，自己内部还调用自己的函数）。