---
author : "RealHath"
title: "C语言进阶1 指针"
tags: ["C语言", "C++"]
categories: ["C++"]
date: "2020-11-09 20:25:14"
toc: true
---

## 指针变量
指针变量是指存放地址的变量。

- 给指针变量p赋值，只会改变指针变量值，不会改变所指向的内存的值
- 给指针变量*p赋值，不会改变指针变量值，只会改变所指向内存的值
- 如果指针指向字符常量，值不可改变
- 不允许向空指针或者非法地址拷贝内容

## 指针间接赋值
### 二级指针
二级指针:也叫双指针,指针的指针用作参数,大多用在需要函数改变该指针的指向时代码目的是setPeople方法执行后,people指针指向了一个新 创建的people对象。

个人理解：如果形参传递的是**一级指针——指针变量的值（指针变量的值是地址）**，就要用二级指针接收，不然无法修改原本指针变量的值对应内存的内容
```cpp
int a = 10;
int *p = &a;        //p的值是a的地址
int **q = &p;       //q的值是p的地址
```

## 字符串
字符串本质是字符数组

### 初始化
初始化字符串的时候要注意字符串常量应该是字符数组长度-1，预留末尾一位存放'\0'，不然打印的时候会乱码。

```cpp
//预留一位：
char a[5] = "1234";
printf("a = %s,  strlen = %d,  sizeof = %d", a, strlen(a), sizeof(a));
//结果：
a = 1234,  strlen = 4,  sizeof = 5

//不预留一位：
char a[5] = "12345";
printf("a = %s,  strlen = %d,  sizeof = %d", a, strlen(a), sizeof(a));
//结果：
a = 12345烫烫烫恬瞯騆,  strlen = 19,  sizeof = 5
```

## const修饰符
不可以直接修改，可以用指针间接修改值